{"cells":[{"code":"// const digits = /\\d+/; // basic number matcher\r\nconst whitespace = new RegExp(\"\\\\s+\", \"g\"); // RegExp constructor style\r\n// const nonWhitespace = RegExp(\"[^\\\\s]+\", \"g\"); // RegExp function call style\r\n/**\r\n * @regex\r\n */\r\n// const directive = \"\\d+/\";\r\n// @regex\r\n// const a = \"wat\";\r\n","language":"javascript","kind":"code"},{"code":"[\r\n  ;; match regex literal expressions:\r\n  ;; /pattern/gi\r\n  ;; /pattern/\r\n  (regex\r\n    pattern: (regex_pattern) @regex.pattern\r\n    flags: (regex_flags)? @regex.flags\r\n    (#set! regex.type \"literal\")\r\n  ) @regex\r\n  ;; match regex constructor calls:\r\n  ;; new RegExp(\"pattern\", \"gi\")\r\n  ;; new RegExp(\"pattern\")\r\n  ;; TODO: new RegExp(/pattern/, \"gi\")\r\n  (new_expression\r\n    constructor: (identifier) @regex.constructor\r\n    arguments: (arguments\r\n      (string\r\n        (_)+ @regex.pattern\r\n      )\r\n      (string\r\n        (_)+ @regex.flags.string\r\n      )?\r\n    )\r\n    (#eq? @regex.constructor \"RegExp\")\r\n    (#set! regex.type \"constructor\")\r\n  ) @regex\r\n  ;; match regex function calls:\r\n  ;; RegExp(\"pattern\", \"gi\")\r\n  ;; RegExp(\"pattern\")\r\n  ;; TODO: RegExp(/pattern/, \"gi\")\r\n  (call_expression\r\n    function: (identifier) @regex.function\r\n    arguments: (arguments\r\n      (string\r\n        (_)+ @regex.pattern\r\n      )\r\n      (string\r\n        (_)+ @regex.flags\r\n      )?\r\n    )\r\n    (#eq? @regex.function \"RegExp\")\r\n    (#set! regex.type \"function\")\r\n  ) @regex\r\n  ;; match a variable declaration with a preceding doc comment containing a @regex tag\r\n  ;; /** @regex */ const pattern = \"pattern\";\r\n  ;; /** @regex */ let pattern = \"pattern\";\r\n  ;; /** @regex */ var pattern = \"pattern\";\r\n  (\r\n    (comment) @comment\r\n    (\r\n      (\r\n        declaration\r\n        (variable_declarator\r\n          value: (\r\n            string\r\n            (_)+ @regex.pattern @regex\r\n          )\r\n        )\r\n      )\r\n    )\r\n    (#match? @comment \"(:?\\\\s|\\\\/\\\\*\\\\*)@regex(:?\\\\s|\\\\*\\\\/)\")\r\n    (#set! regex.type \"string\")\r\n  )\r\n  ;; match a string literal with a preceding doc comment containing a @regex tag\r\n  ;; /** @regex */ \"pattern\"\r\n  ;; /** @regex*/ \"pattern\"\r\n  ;; /**@regex */ \"pattern\"\r\n  ;; /**@regex*/ \"pattern\"\r\n  (\r\n    (comment) @comment\r\n    .\r\n    (\r\n      string\r\n      (_)+ @regex.pattern @regex\r\n    )\r\n    (#match? @comment \"^/\\\\*\\\\*\")\r\n    (#match? @comment \"(:?\\\\s|\\\\/\\\\*\\\\*)@regex(:?\\\\s|\\\\*\\\\/)\")\r\n    (#set! regex.type \"string\")\r\n  )\r\n]","language":"scm","kind":"code"}]}